import{d as H,g as C,r as k,K as N,h as c,i as h,j as w,c as l,k as o,l as s,m as d,b as p,M as U,N as P,O as F,n as S,t as v,S as L,T as A,U as I,V as D,W as K}from"./index-965bef50.js";const X={class:"scroll-y"},G=s("h3",null,"Webdav服务配置",-1),J=s("br",null,null,-1),Q={class:"scroll-y"},Y=s("span",{color:"gray",style:{"font-size":"12px","margin-left":"12px"}},"修改后重启生效",-1),Z={class:"dialog-footer"},ee={class:"card-header",style:{height:"35px"}},le={style:{"margin-top":"10px"}},ae={class:"dark"},oe=s("br",null,null,-1),te={style:{clear:"both"}},se=s("span",{color:"gray",style:{"font-size":"12px","margin-left":"12px"}},"新增后重启生效",-1),ne=H({}),ie=Object.assign(ne,{__name:"index",setup(de){const m=C(!1),y=k([]),t=k({}),x={name:"webdav",path:"/webdav/*",describe:"webdav服务",serverHost:"192.168.1.100",serverPort:"5244",https:!1,enable:!0,passwdList:[{id:Math.random(),password:"123456",encType:"aesctr",enable:!1,describe:"my video",encPath:"/aliyun/encrypt/*"}]};Object.assign(t,x),C();const T=()=>{t.passwdList.push({id:Math.random(),password:"123456",encType:"aesctr",enable:!0,describe:"my video",encPath:"/dav/encrypt/*"})},W=n=>{t.passwdList.splice(n,1)},M=n=>{m.value=!0,Object.assign(t,n)},R=()=>{m.value=!0,Object.assign(t,x)},$=async n=>{const a=await L(n);m.value=!1,V(a)},j=async()=>{let n=null;t.id?n=await L(t):n=await A(t),m.value=!1,V(n)},z=async n=>{I.confirm("Are you sure to delete?").then(async()=>{const a=await D({id:n});V(a),m.value=!1})},V=async n=>{const a=n||await K();y.splice(0,y.length),a.data.forEach(i=>{const r=i.passwdList;for(const b of r)b.id=Math.random();y.push(i)})};return N(async()=>{V()}),(n,a)=>{const i=c("el-input"),r=c("el-form-item"),b=c("el-switch"),_=c("el-button"),g=c("el-radio"),B=c("el-radio-group"),O=c("el-form"),q=c("el-dialog"),E=c("el-card");return h(),w("div",X,[G,J,l(q,{modelValue:m.value,"onUpdate:modelValue":a[7]||(a[7]=e=>m.value=e),title:"配置信息",style:{"min-width":"320px"}},{default:o(()=>[s("div",Q,[l(O,{model:d(t)},{default:o(()=>[l(r,{prop:"username",label:"服务名称"},{default:o(()=>[l(i,{modelValue:d(t).name,"onUpdate:modelValue":a[0]||(a[0]=e=>d(t).name=e),style:{"max-width":"260px"},placeholder:"127.0.0.1"},null,8,["modelValue"])]),_:1}),l(r,{prop:"username",label:"服务器"},{default:o(()=>[l(i,{modelValue:d(t).serverHost,"onUpdate:modelValue":a[1]||(a[1]=e=>d(t).serverHost=e),style:{"max-width":"260px"},placeholder:"127.0.0.1"},null,8,["modelValue"])]),_:1}),l(r,{prop:"password",label:"端口"},{default:o(()=>[l(i,{modelValue:d(t).serverPort,"onUpdate:modelValue":a[2]||(a[2]=e=>d(t).serverPort=e),style:{"max-width":"260px"},placeholder:"5244"},null,8,["modelValue"])]),_:1}),l(r,{prop:"password",label:"主目录"},{default:o(()=>[l(i,{modelValue:d(t).path,"onUpdate:modelValue":a[3]||(a[3]=e=>d(t).path=e),style:{"max-width":"260px"},placeholder:"5244"},null,8,["modelValue"]),Y]),_:1}),l(r,{prop:"enable",label:"开启"},{default:o(()=>[l(b,{modelValue:d(t).enable,"onUpdate:modelValue":a[4]||(a[4]=e=>d(t).enable=e),class:"ml-2",style:{"margin-bottom":"5px","--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue"])]),_:1}),l(r,{label:"密码设置"},{default:o(()=>[l(_,{type:"success",onClick:T},{default:o(()=>[p("添加")]),_:1})]),_:1}),(h(!0),w(U,null,P(d(t).passwdList,(e,f)=>(h(),w("div",{key:e.id},[l(B,{modelValue:e.encType,"onUpdate:modelValue":u=>e.encType=u,style:{margin:"0 25px"},size:"small"},{default:o(()=>[l(g,{label:"mix",border:""},{default:o(()=>[p("MIX")]),_:1}),l(g,{label:"rc4",border:""},{default:o(()=>[p("RC4")]),_:1}),l(g,{label:"aesctr",border:""},{default:o(()=>[p("AES-CTR")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"]),p(" 开启 "),l(b,{modelValue:e.enable,"onUpdate:modelValue":u=>e.enable=u,class:"ml-2",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue","onUpdate:modelValue"]),l(_,{type:"danger",style:{margin:"5px 20px"},icon:d(F),circle:"",onClick:u=>W(f)},null,8,["icon","onClick"]),l(r,{label:"密码"},{default:o(()=>[l(i,{modelValue:e.password,"onUpdate:modelValue":u=>e.password=u,style:{"max-width":"260px","margin-right":"10px"},placeholder:"12341234"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(r,{label:"备注"},{default:o(()=>[l(i,{modelValue:e.describe,"onUpdate:modelValue":u=>e.describe=u,style:{"max-width":"260px","margin-right":"10px"},placeholder:"备注描述"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(r,{label:"路径"},{default:o(()=>[l(i,{modelValue:e.encPath,"onUpdate:modelValue":u=>e.encPath=u,style:{"max-width":"350px","margin-right":"10px"},placeholder:"多个路径逗号，隔开"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))]),_:1},8,["model"]),s("span",Z,[l(_,{onClick:a[5]||(a[5]=e=>m.value=!1)},{default:o(()=>[p("取消")]),_:1}),l(_,{type:"primary",onClick:a[6]||(a[6]=e=>j())},{default:o(()=>[p("保存")]),_:1})])])]),_:1},8,["modelValue"]),s("div",null,[(h(!0),w(U,null,P(d(y),e=>(h(),S(E,{key:e.id,style:{width:"250px",margin:"10px",float:"left"},class:""},{default:o(()=>[s("div",ee,[l(b,{modelValue:e.enable,"onUpdate:modelValue":f=>e.enable=f,onClick:f=>$(e),class:"ml-2",style:{float:"right","--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue","onUpdate:modelValue","onClick"]),s("span",le,v(e.name),1)]),s("div",ae,"服务: "+v(e.serverHost),1),s("div",null,"端口: "+v(e.serverPort),1),s("div",null,"路径: "+v(e.path),1),s("div",null,"描述: "+v(e.describe),1),oe,l(_,{type:"danger",size:"small",onClick:f=>z(e.id)},{default:o(()=>[p("删除")]),_:2},1032,["onClick"]),l(_,{type:"primary",size:"small",onClick:f=>M(e)},{default:o(()=>[p("编辑")]),_:2},1032,["onClick"])]),_:2},1024))),128))]),s("div",te,[l(_,{type:"success",onClick:R},{default:o(()=>[p("添加配置")]),_:1}),se])])}}});export{ie as default};
